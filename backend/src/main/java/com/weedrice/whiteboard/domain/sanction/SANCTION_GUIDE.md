# Sanction 도메인 가이드

`sanction` 도메인은 규칙을 위반한 사용자에 대한 제재(경고, 활동 정지 등)를 관리하는 기능을 담당합니다.

## 1. 주요 기능 및 로직

`SanctionService`를 통해 다음과 같은 핵심 비즈니스 로직을 처리합니다.

- **제재 생성 (`createSanction`):**
  - 관리자가 특정 사용자에게 제재를 부과합니다.
  - 제재 유형(`type`)에 따라 `WARNING`(경고), `MUTE`(채팅/댓글 금지), `BAN`(계정 정지) 등으로 구분됩니다.
  - `BAN` 제재 시, 해당 사용자의 상태를 `SUSPENDED`로 변경하여 로그인을 막습니다.
  - 제재 정보는 `sanctions` 테이블에 기록됩니다.

- **제재 이력 조회 (`getSanctions`):**
  - 관리자가 특정 사용자의 제재 이력을 조회하거나, 전체 제재 목록을 페이징하여 조회합니다.

- **사용자 제재 상태 확인 (`isUserBanned`):**
  - 특정 사용자가 현재 `BAN` 상태인지 확인합니다. 이 기능은 로그인 시도 시 호출될 수 있습니다.

## 2. API Endpoints

`SanctionController`에서 다음 API를 제공합니다. 모든 엔드포인트는 관리자 권한(`ADMIN`)이 필요합니다.

| Method | URI                       | 설명             |
| :----- | :------------------------ | :--------------- |
| `POST`   | `/api/v1/admin/sanctions` | 신규 제재 등록   |
| `GET`    | `/api/v1/admin/sanctions` | 제재 목록/이력 조회 |

## 3. 관련 DB 테이블

`sanction` 도메인은 주로 다음 테이블과 상호작용합니다.

| 테이블명     | 엔티티     | 설명             |
| :----------- | :--------- | :--------------- |
| `sanctions`  | `Sanction` | 사용자 제재 정보 |
| `users`      | `User`     | 제재 시 사용자 상태 변경 |
| `admins`     | `Admin`    | 제재 처리자 정보 |

이 문서는 `sanction` 도메인의 기능을 이해하고 개발하는 데 도움을 주기 위해 작성되었습니다.
