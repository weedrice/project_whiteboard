# Shop 도메인 가이드

`shop` 도메인은 포인트로 구매 가능한 상점 아이템과 구매 내역을 관리합니다.

## 1. 주요 기능 및 로직
- 상품 조회: 활성화된 상점 아이템을 유형별로 필터링해 페이지 조회.
- 상품 상세: 단건 아이템 정보 조회.
- 구매: 포인트 잔액을 강제 차감 후 구매 이력 저장(가격 스냅샷 포함).
- 구매 이력: 사용자별 구매 내역을 최신순으로 제공.

## 2. API Endpoints

| Method | URI | 설명 |
| :----- | :-------------------------------------- | :----------------------- |
| `GET` | `/api/v1/shop/items` | 상점 아이템 목록 조회 |
| `POST` | `/api/v1/shop/items/{itemId}/purchase` | 아이템 구매 |
| `GET` | `/api/v1/shop/me/purchases` | 내 구매 이력 조회 |

## 3. 관련 DB 테이블

| 테이블명 | 엔티티 | 설명 |
| :------- | :----- | :--- |
| `shop_items` | `ShopItem` | 상점 상품 정보/가격/활성 여부 |
| `purchase_history` | `PurchaseHistory` | 구매 시점/가격/사용자 기록 |
